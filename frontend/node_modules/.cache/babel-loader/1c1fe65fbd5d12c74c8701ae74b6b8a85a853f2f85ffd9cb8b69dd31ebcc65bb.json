{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nandh\\\\OneDrive\\\\Desktop\\\\Online_Voting\\\\online-voting\\\\frontend\\\\src\\\\components\\\\VoterDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VoterDashboard = () => {\n  _s();\n  const videoRef = useRef(null);\n  const canvasRef = useRef(null);\n  const navigate = useNavigate();\n  const [message, setMessage] = useState(\"\");\n\n  // Start Webcam\n  const startCamera = () => {\n    navigator.mediaDevices.getUserMedia({\n      video: true\n    }).then(stream => {\n      if (videoRef.current) videoRef.current.srcObject = stream;\n    }).catch(error => console.error(\"Camera access denied:\", error));\n  };\n\n  // Capture Image from Webcam\n  const captureImage = () => {\n    const canvas = canvasRef.current;\n    const video = videoRef.current;\n    const context = canvas.getContext(\"2d\");\n    canvas.width = video.videoWidth;\n    canvas.height = video.videoHeight;\n    context.drawImage(video, 0, 0, canvas.width, canvas.height);\n    return canvas.toDataURL(\"image/png\"); // Convert to base64\n  };\n\n  // Verify Face\n  const verifyFace = async () => {\n    const voterId = localStorage.getItem(\"voterId\");\n    const image = captureImage(); // Get live face image\n\n    const response = await fetch(\"http://localhost:5000/api/auth/verify-face\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        voterId,\n        image\n      })\n    });\n    const data = await response.json();\n    if (data.success) {\n      setMessage(\"Face matched! Proceeding to vote...\");\n      setTimeout(() => navigate(\"/vote\"), 2000);\n    } else {\n      setMessage(\"Face not recognized. Try again.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"voter-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Face Recognition\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n      ref: videoRef,\n      autoPlay: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      ref: canvasRef,\n      style: {\n        display: \"none\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: startCamera,\n      children: \"Start Camera\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: verifyFace,\n      children: \"Verify Face\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 9\n  }, this);\n};\n_s(VoterDashboard, \"9pUMJUEHoFyOpSCbjzQWdV3GT30=\", false, function () {\n  return [useNavigate];\n});\n_c = VoterDashboard;\nexport default VoterDashboard;\nvar _c;\n$RefreshReg$(_c, \"VoterDashboard\");","map":{"version":3,"names":["React","useRef","useState","useNavigate","jsxDEV","_jsxDEV","VoterDashboard","_s","videoRef","canvasRef","navigate","message","setMessage","startCamera","navigator","mediaDevices","getUserMedia","video","then","stream","current","srcObject","catch","error","console","captureImage","canvas","context","getContext","width","videoWidth","height","videoHeight","drawImage","toDataURL","verifyFace","voterId","localStorage","getItem","image","response","fetch","method","headers","body","JSON","stringify","data","json","success","setTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","autoPlay","style","display","onClick","_c","$RefreshReg$"],"sources":["C:/Users/nandh/OneDrive/Desktop/Online_Voting/online-voting/frontend/src/components/VoterDashboard.js"],"sourcesContent":["import React, { useRef, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst VoterDashboard = () => {\r\n    const videoRef = useRef(null);\r\n    const canvasRef = useRef(null);\r\n    const navigate = useNavigate();\r\n    const [message, setMessage] = useState(\"\");\r\n\r\n    // Start Webcam\r\n    const startCamera = () => {\r\n        navigator.mediaDevices.getUserMedia({ video: true })\r\n            .then((stream) => {\r\n                if (videoRef.current) videoRef.current.srcObject = stream;\r\n            })\r\n            .catch((error) => console.error(\"Camera access denied:\", error));\r\n    };\r\n\r\n    // Capture Image from Webcam\r\n    const captureImage = () => {\r\n        const canvas = canvasRef.current;\r\n        const video = videoRef.current;\r\n        const context = canvas.getContext(\"2d\");\r\n\r\n        canvas.width = video.videoWidth;\r\n        canvas.height = video.videoHeight;\r\n        context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n\r\n        return canvas.toDataURL(\"image/png\"); // Convert to base64\r\n    };\r\n\r\n    // Verify Face\r\n    const verifyFace = async () => {\r\n        const voterId = localStorage.getItem(\"voterId\");\r\n        const image = captureImage(); // Get live face image\r\n\r\n        const response = await fetch(\"http://localhost:5000/api/auth/verify-face\", {\r\n            method: \"POST\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({ voterId, image }),\r\n        });\r\n\r\n        const data = await response.json();\r\n        if (data.success) {\r\n            setMessage(\"Face matched! Proceeding to vote...\");\r\n            setTimeout(() => navigate(\"/vote\"), 2000);\r\n        } else {\r\n            setMessage(\"Face not recognized. Try again.\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"voter-dashboard\">\r\n            <h2>Face Recognition</h2>\r\n            <video ref={videoRef} autoPlay></video>\r\n            <canvas ref={canvasRef} style={{ display: \"none\" }}></canvas>\r\n            <button onClick={startCamera}>Start Camera</button>\r\n            <button onClick={verifyFace}>Verify Face</button>\r\n            <p>{message}</p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default VoterDashboard;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC/C,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACzB,MAAMC,QAAQ,GAAGP,MAAM,CAAC,IAAI,CAAC;EAC7B,MAAMQ,SAAS,GAAGR,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMS,QAAQ,GAAGP,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;;EAE1C;EACA,MAAMW,WAAW,GAAGA,CAAA,KAAM;IACtBC,SAAS,CAACC,YAAY,CAACC,YAAY,CAAC;MAAEC,KAAK,EAAE;IAAK,CAAC,CAAC,CAC/CC,IAAI,CAAEC,MAAM,IAAK;MACd,IAAIX,QAAQ,CAACY,OAAO,EAAEZ,QAAQ,CAACY,OAAO,CAACC,SAAS,GAAGF,MAAM;IAC7D,CAAC,CAAC,CACDG,KAAK,CAAEC,KAAK,IAAKC,OAAO,CAACD,KAAK,CAAC,uBAAuB,EAAEA,KAAK,CAAC,CAAC;EACxE,CAAC;;EAED;EACA,MAAME,YAAY,GAAGA,CAAA,KAAM;IACvB,MAAMC,MAAM,GAAGjB,SAAS,CAACW,OAAO;IAChC,MAAMH,KAAK,GAAGT,QAAQ,CAACY,OAAO;IAC9B,MAAMO,OAAO,GAAGD,MAAM,CAACE,UAAU,CAAC,IAAI,CAAC;IAEvCF,MAAM,CAACG,KAAK,GAAGZ,KAAK,CAACa,UAAU;IAC/BJ,MAAM,CAACK,MAAM,GAAGd,KAAK,CAACe,WAAW;IACjCL,OAAO,CAACM,SAAS,CAAChB,KAAK,EAAE,CAAC,EAAE,CAAC,EAAES,MAAM,CAACG,KAAK,EAAEH,MAAM,CAACK,MAAM,CAAC;IAE3D,OAAOL,MAAM,CAACQ,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC;EAC1C,CAAC;;EAED;EACA,MAAMC,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC3B,MAAMC,OAAO,GAAGC,YAAY,CAACC,OAAO,CAAC,SAAS,CAAC;IAC/C,MAAMC,KAAK,GAAGd,YAAY,CAAC,CAAC,CAAC,CAAC;;IAE9B,MAAMe,QAAQ,GAAG,MAAMC,KAAK,CAAC,4CAA4C,EAAE;MACvEC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEV,OAAO;QAAEG;MAAM,CAAC;IAC3C,CAAC,CAAC;IAEF,MAAMQ,IAAI,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IAClC,IAAID,IAAI,CAACE,OAAO,EAAE;MACdrC,UAAU,CAAC,qCAAqC,CAAC;MACjDsC,UAAU,CAAC,MAAMxC,QAAQ,CAAC,OAAO,CAAC,EAAE,IAAI,CAAC;IAC7C,CAAC,MAAM;MACHE,UAAU,CAAC,iCAAiC,CAAC;IACjD;EACJ,CAAC;EAED,oBACIP,OAAA;IAAK8C,SAAS,EAAC,iBAAiB;IAAAC,QAAA,gBAC5B/C,OAAA;MAAA+C,QAAA,EAAI;IAAgB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACzBnD,OAAA;MAAOoD,GAAG,EAAEjD,QAAS;MAACkD,QAAQ;IAAA;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACvCnD,OAAA;MAAQoD,GAAG,EAAEhD,SAAU;MAACkD,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO;IAAE;MAAAP,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAS,CAAC,eAC7DnD,OAAA;MAAQwD,OAAO,EAAEhD,WAAY;MAAAuC,QAAA,EAAC;IAAY;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACnDnD,OAAA;MAAQwD,OAAO,EAAE1B,UAAW;MAAAiB,QAAA,EAAC;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,eACjDnD,OAAA;MAAA+C,QAAA,EAAIzC;IAAO;MAAA0C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACf,CAAC;AAEd,CAAC;AAACjD,EAAA,CA1DID,cAAc;EAAA,QAGCH,WAAW;AAAA;AAAA2D,EAAA,GAH1BxD,cAAc;AA4DpB,eAAeA,cAAc;AAAC,IAAAwD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}