{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nandh\\\\OneDrive\\\\Desktop\\\\Online_Voting\\\\online-voting\\\\frontend\\\\src\\\\components\\\\VoterDashboard.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useCallback } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst VoterDashboard = () => {\n  _s();\n  const [candidates, setCandidates] = useState([]);\n  const [isVerified, setIsVerified] = useState(false);\n  const [hasVoted, setHasVoted] = useState(false);\n  const [selectedCandidate, setSelectedCandidate] = useState(null);\n  const voterId = \"456789123025\"; // ✅ Hardcoded for testing\n\n  // ✅ Use useCallback to memoize verifyVoter function\n  const verifyVoter = useCallback(async () => {\n    try {\n      const response = await axios.post(\"http://localhost:5000/api/voter/check-vote\", {\n        voterId\n      });\n      if (response.data.success) {\n        if (response.data.message.includes(\"Thanks for voting\")) {\n          setHasVoted(true);\n        } else {\n          setIsVerified(true);\n          fetchCandidates();\n        }\n      } else {\n        alert(\"❌ Invalid Voter ID.\");\n      }\n    } catch (error) {\n      console.error(\"❌ Error verifying voter:\", error);\n      alert(\"Error verifying voter. Check server logs.\");\n    }\n  }, [voterId]); // ✅ Add voterId as a dependency\n\n  useEffect(() => {\n    verifyVoter();\n  }, [verifyVoter]); // ✅ Add verifyVoter to dependency array\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"voter-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDDF3 Voter Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this), hasVoted ? /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\u2705 Thanks for Voting!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }, this) : isVerified ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"You can vote now!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Verifying Voter ID...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n};\n_s(VoterDashboard, \"UzszKl8vlTSDjHrRIdYnfbPZQpQ=\");\n_c = VoterDashboard;\nexport default VoterDashboard;\nvar _c;\n$RefreshReg$(_c, \"VoterDashboard\");","map":{"version":3,"names":["React","useEffect","useState","useCallback","axios","jsxDEV","_jsxDEV","VoterDashboard","_s","candidates","setCandidates","isVerified","setIsVerified","hasVoted","setHasVoted","selectedCandidate","setSelectedCandidate","voterId","verifyVoter","response","post","data","success","message","includes","fetchCandidates","alert","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/nandh/OneDrive/Desktop/Online_Voting/online-voting/frontend/src/components/VoterDashboard.js"],"sourcesContent":["import React, { useEffect, useState, useCallback } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst VoterDashboard = () => {\r\n  const [candidates, setCandidates] = useState([]);\r\n  const [isVerified, setIsVerified] = useState(false);\r\n  const [hasVoted, setHasVoted] = useState(false);\r\n  const [selectedCandidate, setSelectedCandidate] = useState(null);\r\n  const voterId = \"456789123025\"; // ✅ Hardcoded for testing\r\n\r\n  // ✅ Use useCallback to memoize verifyVoter function\r\n  const verifyVoter = useCallback(async () => {\r\n    try {\r\n      const response = await axios.post(\"http://localhost:5000/api/voter/check-vote\", { voterId });\r\n\r\n      if (response.data.success) {\r\n        if (response.data.message.includes(\"Thanks for voting\")) {\r\n          setHasVoted(true);\r\n        } else {\r\n          setIsVerified(true);\r\n          fetchCandidates();\r\n        }\r\n      } else {\r\n        alert(\"❌ Invalid Voter ID.\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"❌ Error verifying voter:\", error);\r\n      alert(\"Error verifying voter. Check server logs.\");\r\n    }\r\n  }, [voterId]); // ✅ Add voterId as a dependency\r\n\r\n  useEffect(() => {\r\n    verifyVoter();\r\n  }, [verifyVoter]); // ✅ Add verifyVoter to dependency array\r\n\r\n  return (\r\n    <div className=\"voter-dashboard\">\r\n      <h2>🗳 Voter Dashboard</h2>\r\n      {hasVoted ? (\r\n        <h3>✅ Thanks for Voting!</h3>\r\n      ) : isVerified ? (\r\n        <p>You can vote now!</p>\r\n      ) : (\r\n        <p>Verifying Voter ID...</p>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VoterDashboard;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AAC/D,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACS,UAAU,EAAEC,aAAa,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACa,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAChE,MAAMe,OAAO,GAAG,cAAc,CAAC,CAAC;;EAEhC;EACA,MAAMC,WAAW,GAAGf,WAAW,CAAC,YAAY;IAC1C,IAAI;MACF,MAAMgB,QAAQ,GAAG,MAAMf,KAAK,CAACgB,IAAI,CAAC,4CAA4C,EAAE;QAAEH;MAAQ,CAAC,CAAC;MAE5F,IAAIE,QAAQ,CAACE,IAAI,CAACC,OAAO,EAAE;QACzB,IAAIH,QAAQ,CAACE,IAAI,CAACE,OAAO,CAACC,QAAQ,CAAC,mBAAmB,CAAC,EAAE;UACvDV,WAAW,CAAC,IAAI,CAAC;QACnB,CAAC,MAAM;UACLF,aAAa,CAAC,IAAI,CAAC;UACnBa,eAAe,CAAC,CAAC;QACnB;MACF,CAAC,MAAM;QACLC,KAAK,CAAC,qBAAqB,CAAC;MAC9B;IACF,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDD,KAAK,CAAC,2CAA2C,CAAC;IACpD;EACF,CAAC,EAAE,CAACT,OAAO,CAAC,CAAC,CAAC,CAAC;;EAEfhB,SAAS,CAAC,MAAM;IACdiB,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,CAACA,WAAW,CAAC,CAAC,CAAC,CAAC;;EAEnB,oBACEZ,OAAA;IAAKuB,SAAS,EAAC,iBAAiB;IAAAC,QAAA,gBAC9BxB,OAAA;MAAAwB,QAAA,EAAI;IAAkB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAC1BrB,QAAQ,gBACPP,OAAA;MAAAwB,QAAA,EAAI;IAAoB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,GAC3BvB,UAAU,gBACZL,OAAA;MAAAwB,QAAA,EAAG;IAAiB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,gBAExB5B,OAAA;MAAAwB,QAAA,EAAG;IAAqB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAC5B;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAAC1B,EAAA,CA5CID,cAAc;AAAA4B,EAAA,GAAd5B,cAAc;AA8CpB,eAAeA,cAAc;AAAC,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}